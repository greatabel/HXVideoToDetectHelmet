# https://opencv-python-tutroals.readthedocs.io/en/latest/py_tutorials/py_gui/py_video_display/py_video_display.html
# https://stackoverflow.com/questions/33853802/mouse-click-events-on-a-live-stream-with-opencv-and-python

from gluoncv import model_zoo, data, utils
#from matplotlib import pyplot as plt
import mxnet as mx

import cv2
import numpy as np
import csv
import urllib
from i11process_frame import deal_specialchar_in_url


# 海康
# 12345
# yxgl$666
# yxgl!123456
# yxgl123456

# 库房
# input_str= 'rtsp://admin:yxgl$666@192.168.200.182:554'
# 电气室
# input_str= 'rtsp://admin:yxgl$666@192.168.200.183:554'
# 电气室
# input_str= 'rtsp://admin:yxgl$666@192.168.200.184:554'
# input_str= 'rtsp://admin:yxgl$666@192.168.200.185:554'
# input_str= 'rtsp://admin:yxgl$666@192.168.200.186:554'
# input_str= 'rtsp://admin:yxgl$666@192.168.200.187:554'
# input_str= 'rtsp://admin:yxgl$666@192.168.200.188:554'
# input_str= 'rtsp://admin:yxgl$666@192.168.200.189:554'
# 下料口
# input_str= 'rtsp://admin:yxgl$666@192.168.200.190:554'

# camera is error 
# input_str= 'rtsp://admin:yxgl$666@192.168.200.191:554'
# input_str= 'rtsp://admin:yxgl$666@192.168.200.192:554'
# input_str= 'rtsp://admin:yxgl$666@192.168.200.193:554'
# input_str= 'rtsp://admin:yxgl$666@192.168.200.194:554'
# input_str= 'rtsp://admin:yxgl$666@192.168.200.197:554'
# input_str= 'rtsp://admin:yxgl$666@192.168.200.198:554'
# input_str= 'rtsp://admin:yxgl$666@192.168.200.202:554'
# input_str= 'rtsp://admin:yxgl$666@192.168.200.205:554'

# camear is error(error while decoding MB 58 3, bytestream -34)
# input_str= 'rtsp://admin:yxgl$666@192.168.200.203:554'

# cameara is not online
# input_str= 'rtsp://admin:yxgl$666@192.168.200.200:554'
# input_str= 'rtsp://admin:yxgl$666@192.168.200.201:554'
# input_str= 'rtsp://admin:yxgl$666@192.168.200.206:554'
# input_str= 'rtsp://admin:yxgl$666@192.168.200.207:554'
# input_str= 'rtsp://admin:yxgl$666@192.168.200.208:554'

# 下料口
# input_str= 'rtsp://admin:yxgl$666@192.168.200.195:554'
# input_str= 'rtsp://admin:yxgl$666@192.168.200.196:554'
# input_str= 'rtsp://admin:yxgl$666@192.168.200.199:554'
# 水浠下楼梯
# input_str= 'rtsp://admin:yxgl$666@192.168.200.204:554'


# input_str= 'rtsp://admin:12345@192.168.200.51:554'
# input_str= 'rtsp://admin:12345@192.168.200.52:554'
# input_str= 'rtsp://admin:12345@192.168.200.53:554'
# input_str= 'rtsp://admin:12345@192.168.200.54:554'
# input_str= 'rtsp://admin:12345@192.168.200.55:554'
# input_str= 'rtsp://admin:12345@192.168.200.56:554'

# wait
# input_str= 'rtsp://admin:yxgl$666@192.168.200.57:554'

# input_str= 'rtsp://admin:12345@192.168.200.58:554'
# input_str= 'rtsp://admin:12345@192.168.200.59:554'
# input_str= 'rtsp://admin:yxgl$666@192.168.200.60:554'
# input_str= 'rtsp://admin:12345@192.168.200.61:554'

# not online:
# input_str= 'rtsp://admin:12345@192.168.200.62:554'


# input_str= 'rtsp://admin:12345@192.168.200.63:554'
# input_str= 'rtsp://admin:12345@192.168.200.64:554'
# 大厅：
# input_str= 'rtsp://admin:12345@192.168.200.65:554'
# input_str= 'rtsp://admin:yxgl$666@192.168.200.66:554'
# input_str= 'rtsp://admin:12345@192.168.200.67:554'

# not online:
# input_str= 'rtsp://admin:12345@192.168.200.68:554'
# input_str= 'rtsp://admin:12345@192.168.200.69:554'

# input_str= 'rtsp://admin:12345@192.168.200.70:554'
# input_str= 'rtsp://admin:12345@192.168.200.71:554'
# 传送带
# input_str= 'rtsp://admin:12345@192.168.200.72:554'
# 监控 煤区
# input_str= 'rtsp://admin:12345@192.168.200.73:554'
# input_str= 'rtsp://admin:12345@192.168.200.74:554'
# input_str= 'rtsp://admin:12345@192.168.200.75:554'
# 山脚下
# input_str= 'rtsp://admin:12345@192.168.200.76:554'
# 水处理
# input_str= 'rtsp://admin:12345@192.168.200.77:554'
# input_str= 'rtsp://admin:12345@192.168.200.78:554'
# input_str= 'rtsp://admin:12345@192.168.200.79:554'
# input_str= 'rtsp://admin:12345@192.168.200.80:554'
# 楼梯
# input_str= 'rtsp://admin:12345@192.168.200.81:554'
# input_str= 'rtsp://admin:12345@192.168.200.82:554'
# input_str= 'rtsp://admin:12345@192.168.200.83:554'

# not online
# input_str= 'rtsp://admin:12345@192.168.200.84:554'
# 监控室
# input_str= 'rtsp://admin:12345@192.168.200.85:554'
# input_str= 'rtsp://admin:yxgl123456@192.168.200.86:554'
# 楼道
# input_str= 'rtsp://admin:12345@192.168.200.87:554'
# 机器旁边
# input_str= 'rtsp://admin:12345@192.168.200.88:554'

#  not online
# input_str= 'rtsp://admin:12345@192.168.200.89:554'

# input_str= 'rtsp://admin:12345@192.168.200.90:554'
# 沙漏旁边
# input_str= 'rtsp://admin:12345@192.168.200.91:554'
# input_str= 'rtsp://admin:12345@192.168.200.92:554'
# 某办公室
# input_str= 'rtsp://admin:12345@192.168.200.93:554'

#not online:
# input_str= 'rtsp://admin:12345@192.168.200.94:554'
# 泥浆
# input_str= 'rtsp://admin:12345@192.168.200.95:554'
# input_str= 'rtsp://admin:12345@192.168.200.96:554'
# 水洗机器旁
# input_str= 'rtsp://admin:12345@192.168.200.97:554'
# input_str= 'rtsp://admin:12345@192.168.200.98:554'

# wait
# input_str= 'rtsp://admin:yxgl!123456@192.168.200.99:554'
# 地磅
# input_str= 'rtsp://admin:yxgl$666@192.168.200.101:554'
# input_str= 'rtsp://admin:12345@192.168.200.102:554'

# not line
# input_str= 'rtsp://admin:12345@192.168.200.103:554'

# input_str= 'rtsp://admin:12345@192.168.200.105:554'
# 江边
# input_str= 'rtsp://admin:12345@192.168.200.106:554'
# 进厂
# input_str= 'rtsp://admin:12345@192.168.200.107:554'
# input_str= 'rtsp://admin:12345@192.168.200.109:554'

# 旋转的水上
# input_str= 'rtsp://admin:yxgl$666@192.168.200.110:554'
# input_str= 'rtsp://admin:yxgl$666@192.168.200.111:554'
# 电机室
# input_str= 'rtsp://admin:yxgl$666@192.168.200.112:554'
# input_str= 'rtsp://admin:yxgl$666@192.168.200.113:554'
# input_str= 'rtsp://admin:yxgl$666@192.168.200.114:554'
# input_str= 'rtsp://admin:yxgl$666@192.168.200.210:554/Streaming/Channels/1'
# input_str= 'rtsp://admin:huaxin12345@10.248.10.43:554:554/Streaming/Channels/1'

# 后期新加摄像头
# input_str= 'rtsp://admin:yxgl$666@192.168.200.209:554'
# input_str= 'rtsp://admin:yxgl$666@192.168.200.210:554'
# input_str= 'rtsp://admin:yxgl$666@192.168.200.211:554'
# input_str= 'rtsp://admin:yxgl$666@192.168.200.212:554'
# input_str= 'rtsp://admin:yxgl$666@192.168.200.213:554'
# input_str= 'rtsp://admin:yxgl$666@192.168.200.214:554'
# input_str= 'rtsp://admin:yxgl$666@192.168.200.215:554'
# input_str= 'rtsp://admin:yxgl$666@192.168.200.216:554'
# input_str= 'rtsp://admin:yxgl$666@192.168.200.217:554'
# input_str= 'rtsp://admin:yxgl$666@192.168.200.218:554'
# input_str= 'rtsp://admin:yxgl$666@192.168.200.219:554'
#  ...
# input_str= 'rtsp://admin:yxgl$666@192.168.200.233:554'

# 00046258 是陆斌  xuxiaolu 是小路

# 阳新骨料通知人员： 甲班：王俪媛、刘小龙； 乙班：朱清、陈杰；丙班：田芳、胡志昂；丁班：戴梦琪、朱俊
# qy_wechat userid:  |00030414|00031710|00030066|00030411|00008650|00030703|00038948|00043946
# me , sunwei: 80002302|00038910
# video_urls = [
#     # start 本地测试
#     # ["admin", "admin123", "10.248.10.100:554", 1, 'dahua', "华新数创5楼室内0", "80002302|00038910"],  # ipv4
#     # ["admin", "admin123", "10.248.10.100:554", 3, 'dahua', "华新数创5楼室内1", "80002302"],

#     # ["admin", "huaxin12345", "10.248.10.43:554", 1, "hik","", "80002302"],
#     # end   本地测试

#     # ['admin', 'yxgl$666','192.168.200.182:554',1, 'hik', '库房内货架',   '80002302|00038910|00030414|00031710|00030066|00030411|00008650|00030703|00038948|00043946'],
#     # ['admin', 'yxgl$666','192.168.200.183:554',1, 'hik', '二期中细破电气室', '80002302|00038910|00030414|00031710|00030066|00030411|00008650|00030703|00038948|00043946'],
#     # ['admin', 'yxgl$666','192.168.200.184:554',1, 'hik', '砂石水洗电气室', '80002302|00038910|00030414|00031710|00030066|00030411|00008650|00030703|00038948|00043946'],
#     # 蓝色不能进入，所有区域 不戴帽子报警
#     ['admin', 'yxgl$666','192.168.200.185:554',1, 'hik', '一期低压中心', '80002302|00038910|00030414|00031710|00030066|00030411|00008650|00030703|00038948|00043946'],
#     # 只能红颜色，所有区域 不戴帽子报警
#     ['admin', 'yxgl$666','192.168.200.186:554',1, 'hik', '老中控', '80002302|00038910|00030414|00031710|00030066|00030411|00008650|00030703|00038948|00043946'],
#     # 红色，黄色，蓝色入侵中间区域报警 不戴帽子报警
#     ['admin', 'yxgl$666','192.168.200.188:554',1, 'hik', '2号给料机', '80002302|00038910|00030414|00031710|00030066|00030411|00008650|00030703|00038948|00043946'],
#     # 红色，黄色，蓝色入侵中间区域报警 不戴帽子报警
#     ['admin', 'yxgl$666','192.168.200.189:554',1, 'hik', '3号给料机', '80002302|00038910|00030414|00031710|00030066|00030411|00008650|00030703|00038948|00043946'],
#     # 红色，黄色，蓝色入侵中间区域报警 不戴帽子报警
#     ['admin', 'yxgl$666','192.168.200.190:554',1, 'hik', '4号给料机', '80002302|00038910|00030414|00031710|00030066|00030411|00008650|00030703|00038948|00043946'],
#     # ['admin', 'yxgl$666','192.168.200.195:554',1, 'hik', '4号皮带洞二给料机', '80002302|00038910|00030414|00031710|00030066|00030411|00008650|00030703|00038948|00043946'],
#     # 红色，黄色，蓝色入侵中间区域报警 不戴帽子报警
#     ['admin', 'yxgl$666','192.168.200.196:554',1, 'hik', '4号皮带洞一给料机', '80002302|00038910|00030414|00031710|00030066|00030411|00008650|00030703|00038948|00043946'], # 10

#     #['admin', 'yxgl$666','192.168.200.199:554',1, 'hik', '下料口',    '80002302|00038910|00030414|00031710|00030066|00030411|00008650|00030703|00038948|00043946'],
#     # 红色，黄色，蓝色入侵中间区域报警，待设定，太频繁就不设置 不戴帽子报警
#     ['admin', 'yxgl$666','192.168.200.204:554',1, 'hik', '一期一级筛', '80002302|00038910|00030414|00031710|00030066|00030411|00008650|00030703|00038948|00043946'],
#     # ['admin', '12345','192.168.200.52:554',1, 'hik', '332VF1', '80002302|00038910|00030414|00031710|00030066|00030411|00008650|00030703|00038948|00043946'],    
#     # ['admin', '12345','192.168.200.53:554',1, 'hik', '312BC2', '80002302|00038910|00030414|00031710|00030066|00030411|00008650|00030703|00038948|00043946'],
#     #['admin', '12345','192.168.200.54:554',1, 'hik', '回料仓', '80002302|00038910|00030414|00031710|00030066|00030411|00008650|00030703|00038948|00043946'],
#     # 红色，黄色，蓝色入侵中间区域报警，待设定，不戴帽子报警
#     ['admin', '12345','192.168.200.55:554',1, 'hik', '322VF2', '80002302|00038910|00030414|00031710|00030066|00030411|00008650|00030703|00038948|00043946'],
#     # # 红色，黄色，蓝色入侵中间区域报警，待设定，不戴帽子报警
#     ['admin', '12345','192.168.200.56:554',1, 'hik', '二线一级筛', '80002302|00038910|00030414|00031710|00030066|00030411|00008650|00030703|00038948|00043946'],
#     # 所有帽子，没帽子，整个区域
#     ['admin', '12345','192.168.200.58:554',1, 'hik', '中转楼皮带', '00008618|00043468|00015922|00004462|00043401|00014069|00030066|00030411|00008650|00030703|00030406|00043946|00038948|00031710'],
#     #['admin', '12345','192.168.200.59:554',1, 'hik', '312BC1', '80002302|00038910|00030414|00031710|00030066|00030411|00008650|00030703|00038948|00043946'], 
#     ['admin', 'yxgl$666','192.168.200.60:554',1, 'hik', '浓缩机',    '00008627|00030081|00008651|00043239|00043424|00036338|00031537|00043947|80002146|00002879'], #20
#     # 所有帽子，没帽子 中间区域
#     #['admin', '12345','192.168.200.64:554',1, 'hik', '浓缩池', '80002302|00038910|00030414|00031710|00030066|00030411|00008650|00030703|00038948|00043946'],
#     # 所有帽子，没帽子 所有区域
#     ['admin', '12345','192.168.200.67:554',1, 'hik', '储水池', '00008627|00030081|00008651|00043239|00043424|00036338|00031537|00043947|80002146|00002879'],
#     ##  所有帽子，没帽子 所有区域
#     ['admin', '12345','192.168.200.70:554',1, 'hik', '322VF4二线中破给料机', '00008618|00043468|00015922|00004462|00043401|00014069|00030066|00030411|00008650|00030703|00030406|00043946|00038948|00031710'],    
#     #['admin', '12345','192.168.200.74:554',1, 'hik', '二线预筛分', '80002302|00038910|00030414|00031710|00030066|00030411|00008650|00030703|00038948|00043946'],
#     #['admin', '12345','192.168.200.76:554',1, 'hik', '二期中间料场球机', '80002302|00038910|00030414|00031710|00030066|00030411|00008650|00030703|00038948|00043946'],
#     #['admin', '12345','192.168.200.77:554',1, 'hik', '353BC1水箱', '80002302|00038910|00030414|00031710|00030066|00030411|00008650|00030703|00038948|00043946'],
    
#     #['admin', '12345','192.168.200.80:554',1, 'hik', '323bc2喂料仓', '80002302|00038910|00030414|00031710|00030066|00030411|00008650|00030703|00038948|00043946'],
#     #['admin', '12345','192.168.200.95:554',1, 'hik', '缓冲池', '80002302|00038910|00030414|00031710|00030066|00030411|00008650|00030703|00038948|00043946'],
#     # # 所有帽子，没帽子 中间桥
#     ['admin', '12345','192.168.200.96:554',1, 'hik', '清水池', '00008627|00030081|00008651|00043239|00043424|00036338|00031537|00043947|80002146|00002879'], 
#     # # 所有帽子，没帽子 中间桥
#     ['admin', 'yxgl$666','192.168.200.110:554',1, 'hik', '污水处理2中转池',    '00008627|00030081|00008651|00043239|00043424|00036338|00031537|00043947|80002146|00002879'],#30
    
#     # 所有帽子，没帽子
#     ['admin', 'yxgl$666','192.168.200.209:554',1, 'hik', '一期码头BC3钢架桥', '00008627|00030081|00008651|00043239|00043424|00036338|00031537|00043947|80002146|00002879'],
#    # ['admin', 'yxgl$666','192.168.200.210:554',1, 'hik', '191BCB洞内2', '80002302|00038910|00030414|00031710|00030066|00030411|00008650|00030703|00038948|00043946'],
#     # # 所有帽子，没帽子，下1/3 部分
#     ['admin', 'yxgl$666','192.168.200.211:554',1, 'hik', '二期粗破平台-黄石', '00030350|00001137|00000849|00036276|00038086|00048406|00008618|00004002|00030074|00043836|00043468|00015922|00004462|00043401|00014069|00030066|00030411|00008650|00030703|00030406|00043946|00038948|00031710'],    
#     #['admin', 'yxgl$666','192.168.200.212:554',1, 'hik', '二期码头船污水箱', '80002302|00038910|00030414|00031710|00030066|00030411|00008650|00030703|00038948|00043946'],
#     # ['admin', 'yxgl$666','192.168.200.215:554',1, 'hik', '二期粗破平台-富池', '80002302|00038910|00030414|00031710|00030066|00030411|00008650|00030703|00038948|00043946'],
#     # # 所有帽子，没帽子，所有区域
#     ['admin', 'yxgl$666','192.168.201.6:554',1, 'hik', '384BC1洞内1', '00030350|00001137|00000849|00036276|00038086|00048406|00008627|00030081|00008651|00043239|00043424|00036338|00031537|00043947|80002146|00002879'],
#     # 密码修改
#     #['admin', 'yxgl$666','192.168.200.217:554',1, 'hik', '191BC1洞内2', '80002302|00038910|00030414|00031710|00030066|00030411|00008650|00030703|00038948|00043946'],
#     # ['admin', 'yxgl$666','192.168.200.218:554',1, 'hik', '粗破卸料口', '80002302|00038910|00030414|00031710|00030066|00030411|00008650|00030703|00038948|00043946'],
#     # 所有帽子，没帽子，所有区域 $$
#     ['admin', 'yxgl$666','192.168.201.26:554',1, 'hik', '一期粗破平台-富池', '00030350|00001137|00000849|00036276|00038086|00048406|00008618|00004002|00030074|00043836|00043468|00015922|00004462|00043401|00014069|00030066|00030411|00008650|00030703|00030406|00043946|00038948|00031710'], 
#     # 所有帽子，没帽子，所有区域 左下角
#     ['admin', 'yxgl$666','192.168.201.30:554',1, 'hik', '一期粗破平台-黄石',    '00030350|00001137|00000849|00036276|00038086|00048406|00008618|00004002|00030074|00043836|00043468|00015922|00004462|00043401|00014069|00030066|00030411|00008650|00030703|00030406|00043946|00038948|00031710'],#40
#     # 密码变化了：
#     #['admin', 'yxgl$666','192.168.200.222:554',1, 'hik', '383BC1洞内1', '80002302|00038910|00030414|00031710|00030066|00030411|00008650|00030703|00038948|00043946'],    
#     # 所有帽子，没帽子，所有区域
#     ['admin', 'yxgl$666','192.168.201.10:554',1, 'hik', '191BCB一期发运洞内皮带', '00030350|00001137|00000849|00036276|00038086|00048406|00008627|00030081|00008651|00043239|00043424|00036338|00031537|00043947|80002146|00002879'],
#     # 所有帽子，没帽子，所有区域
#     ['admin', 'yxgl$666','192.168.201.28:554',1, 'hik', '粗破卸料口', '00030350|00001137|00000849|00036276|00038086|00048406|00008618|00004002|00030074|00043836|00043468|00015922|00004462|00043401|00014069|00030066|00030411|00008650|00030703|00030406|00043946|00038948|00031710'],
#     ## 所有帽子，没帽子，所有区域 上中
#     ['admin', 'yxgl$666','192.168.201.29:554',1, 'hik', '粗破卸料口', '00030350|00001137|00000849|00036276|00038086|00048406|00008618|00004002|00030074|00043836|00043468|00015922|00004462|00043401|00014069|00030066|00030411|00008650|00030703|00030406|00043946|00038948|00031710'],    
#     ## 所有帽子，没帽子，所有区域 上中
#     ['admin', 'yxgl$666','192.168.201.36:554',1, 'hik', '粗破卸料口', '00030350|00001137|00000849|00036276|00038086|00048406|00008618|00004002|00030074|00043836|00043468|00015922|00004462|00043401|00014069|00030066|00030411|00008650|00030703|00030406|00043946|00038948|00031710'],
#     ['admin', 'yxgl$666','192.168.201.37:554',1, 'hik', '粗破卸料口', '00030350|00001137|00000849|00036276|00038086|00048406|00008618|00004002|00030074|00043836|00043468|00015922|00004462|00043401|00014069|00030066|00030411|00008650|00030703|00030406|00043946|00038948|00031710'],

#     #['admin', 'yxgl$666','192.168.200.227:554',1, 'hik', '一期码头船污水箱', '80002302|00038910|00030414|00031710|00030066|00030411|00008650|00030703|00038948|00043946'],
#     # ['admin', 'yxgl$666','192.168.200.228:554',1, 'hik', '383BC1洞内2', '80002302|00038910|00030414|00031710|00030066|00030411|00008650|00030703|00038948|00043946'],
#     # not-online
#     # ['admin', 'yxgl$666','192.168.200.229:554',1, 'hik', '一期泵船-富池', '80002302|00038910|00030414|00031710|00030066|00030411|00008650|00030703|00038948|00043946'],
#     # ## 所有帽子，没帽子，所有区域 上中
#     ['admin', 'yxgl$666','192.168.200.211:554',1, 'hik', '一期泵船-黄石', '00030350|00001137|00000849|00036276|00038086|00048406|00008627|00030081|00008651|00043239|00043424|00036338|00031537|00043947|80002146|00002879'],
#     # 经常掉线
#     # ['admin', 'yxgl$666','192.168.200.231:554',1, 'hik', '收尘器灰仓', '00030350|00001137|00000849|00036276|00038086|00048406|00008618|00004002|00030074|00043836|00043468|00015922|00004462|00043401|00014069|00030066|00030411|00008650|00030703|00030406|00043946|00038948|00031710'], #50

# ]


# video_urls = [
#     # start 本地测试
#     # ["admin", "admin123", "10.248.10.100:554", 1, 'dahua', "华新数创5楼室内0", "80002302|00038910", 'YHat, BHat, NoHat'],  # ipv4
#     # ["admin", "admin123", "10.248.10.100:554", 3, 'dahua', "华新数创5楼室内1", "80002302", 'YHat, BHat, NoHat'],

#     # ["admin", "huaxin12345", "10.248.10.43:554", 1, "hik","", "80002302", 'YHat, BHat, NoHat'],
#     # end   本地测试

#     ["admin", "hx123456", "192.168.1.111:554", 1, "hik","", 
#         "80002302|00038910|00014019|00004135|00004302|00004186|00004313|00004070|00004069|00004088", 'RHat, YHat, BHat, NoHat'],
#     ["admin", "hx123456", "192.168.1.186:554", 1, "hik","",
#          "80002302|00038910|00014019|00004135|00004302|00004186|00004313|00004070|00004069|00004088", 'RHat, YHat, BHat, NoHat'],

#     ]


video_urls = [

# ['admin', 'hx123456', '192.168.1.238:554', 1, 'hik', '6N1BCG皮带', '80002302|00038910|80002302|00038910|00004344|00004121', 'BHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.236:554', 1, 'hik', 'L11BC3皮带', '80002302|00038910|80002302|00038910|00004344|00004120', 'BHat|NoHat']
# ,
# # yellow / red allow, blue/no-hat not allow
# ['admin', 'hx123456', '192.168.1.186:554', 1, 'hik', '3号装车机头', '80002302|00038910|80002302|00038910|00014019|00004135|00004302|00004186|00004313|00004070|00004069|00004088', 'BHat|NoHat']
# , 
# ['admin', 'hx123456', '192.168.1.196:554', 1, 'hik', '6号装车机头', '80002302|00038910|80002302|00038910|00014019|00004135|00004302|00004186|00004313|00004070|00004069|00004088', 'BHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.225:554', 1, 'hik', '7号装车机头', '80002302|00038910|80002302|00038910|00014019|00004135|00004302|00004186|00004313|00004070|00004069|00004089', 'BHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.111:554', 1, 'hik', '2号装车机头', '80002302|00038910|00014019|00004135|00004302|00004186|00004313|00004070|00004069|00004088', 'BHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.189:554', 1, 'hik', '1号装车机头', '80002302|00038910|00014019|00004135|00004302|00004186|00004313|00004070|00004069|00004088', 'BHat|NoHat']
# , # yellow /red no-hat not allow
# ['admin', 'hx123456', '192.168.1.206:554', 1, 'hik', '矿山破碎机卸料口', '80002302|00038910|00004001|00004381|00004438|00004322', 'RHat|YHat|BHat|NoHat']
# ,#  yellow no-hat not allow
# ['admin', 'hx123456', '192.168.1.178:554', 1, 'hik', '211BC2皮带机尾部2', '80002302|00038910|00004001|00004381|00004438|00004326', 'YHat|NoHat']
# ,# yellow nohat
# ['admin', 'hx123456', '192.168.1.207:554', 1, 'hik', '破碎机板喂尾部1', '80002302|00038910|00004001|00004381|00004438|00004327', 'YHat|NoHat']
# , # yellow not-hat not allow
# ['admin', 'hx123456', '192.168.1.209:554', 1, 'hik', '破碎机板喂尾部2', '80002302|00038910|00004001|00004381|00004438|00004328', 'YHat|NoHat']
# ,#  no-hat 
# ['admin', 'hx123456', '192.168.1.113:554', 1, 'hik', '211BC3中转楼', '80002302|00038910|00004001|00004381|00004438|00004329', 'NoHat']
# ,# yellow nohat
# ['admin', 'hx123456', '192.168.1.208:554', 1, 'hik', '矿山高压室', '80002302|00038910|00004281|00004345|00004280|00004348|00004346|00004339', 'YHat|NoHat']
# ,# yellow nohat
# ['admin', 'hx123456', '192.168.1.222:554', 1, 'hik', '矿山低压室', '80002302|00038910|00004281|00004345|00004280|00004348|00004346|00004340', 'YHat|NoHat']
# ,# yellow nohat
# ['admin', 'hx123456', '192.168.1.221:554', 1, 'hik', '矿山水阻柜室', '80002302|00038910|00004281|00004345|00004280|00004348|00004346|00004341', 'YHat|NoHat']
# ,# yellow nohat
# ['admin', 'hx123456', '192.168.1.108:554', 1, 'hik', 'K2原料磨PLC室', '80002302|00038910|00004281|00004345|00004280|00004348|00004346|00004342', 'YHat|NoHat']
# ,# yellow nohat
# ['admin', 'hx123456', '192.168.1.134:554', 1, 'hik', 'K2原料磨低压变频器室', '80002302|00038910|00004281|00004345|00004280|00004348|00004346|00004343', 'YHat|NoHat']
# ,# yellow nohat
# ['admin', 'hx123456', '192.168.1.99:554', 1, 'hik', 'K2原料磨低压室', '80002302|00038910|00004281|00004345|00004280|00004348|00004346|00004344', 'YHat|NoHat']
# ,# yellow nohat
# ['admin', 'hx123456', '192.168.1.106:554', 1, 'hik', 'K2原料磨高压变频器室', '80002302|00038910|00004281|00004345|00004280|00004348|00004346|00004345', 'YHat|NoHat']
# ,# yellow nohat
# ['admin', 'hx123456', '192.168.1.132:554', 1, 'hik', 'K2窑尾PLC室', '80002302|00038910|00004281|00004345|00004280|00004348|00004346|00004346', 'YHat|NoHat']
# ,# yellow nohat
# ['admin', 'hx123456', '192.168.1.167:554', 1, 'hik', 'K1窑尾窑主传变频器室', '80002302|00038910|00004281|00004345|00004280|00004348|00004346|00004347', 'YHat|NoHat']
# ,# yellow nohat
# ['admin', 'hx123456', '192.168.1.96:554', 1, 'hik', 'K2窑尾高压变频器室', '80002302|00038910|00004281|00004345|00004280|00004348|00004346|00004348', 'YHat|NoHat']
# ,# yellow nohat
# ['admin', 'hx123456', '192.168.1.133:554', 1, 'hik', 'K2窑尾高压电容室', '80002302|00038910|00004281|00004345|00004280|00004348|00004346|00004349', 'YHat|NoHat']
# ,# yellow nohat
# ['admin', 'hx123456', '192.168.1.98:554', 1, 'hik', 'K2旁路放风电力室', '80002302|00038910|00004281|00004345|00004280|00004348|00004346|00004350', 'YHat|NoHat']
# ,# yellow nohat
# ['admin', 'hx123456', '192.168.1.137:554', 1, 'hik', 'K2窑头低压室', '80002302|00038910|00004281|00004345|00004280|00004348|00004346|00004351', 'YHat|NoHat']
# ,# yellow nohat
# ['admin', 'hx123456', '192.168.1.136:554', 1, 'hik', 'K2煤磨低压室', '80002302|00038910|00004281|00004345|00004280|00004348|00004346|00004352', 'YHat|NoHat']
# ,# yellow nohat
# ['admin', 'hx123456', '192.168.1.135:554', 1, 'hik', 'K2煤磨PLC室', '80002302|00038910|00004281|00004345|00004280|00004348|00004346|00004353', 'RYHat|NoHat']
# ,# yellow nohat
# ['admin', 'hx123456', '192.168.1.138:554', 1, 'hik', 'K2煤磨高压变频器室', '80002302|00038910|00004281|00004345|00004280|00004348|00004346|00004354', 'YHat|NoHat']
# ,# yellow nohat
# ['admin', 'hx123456', '192.168.1.71:554', 1, 'hik', '新联合储库电力室', '80002302|00038910|00004281|00004345|00004280|00004348|00004346|00004355', 'YHat|NoHat']
# ,# yellow nohat
# ['admin', 'hx123456', '192.168.1.78:554', 1, 'hik', '老线水泥磨低压室', '80002302|00038910|00004281|00004345|00004280|00004348|00004346|00004356', 'YHat|NoHat']
# ,# yellow nohat
# ['admin', 'hx123456', '192.168.1.77:554', 1, 'hik', '新线水泥磨低压室', '80002302|00038910|00004281|00004345|00004280|00004348|00004346|00004357', 'YHat|NoHat']
# ,# yellow nohat
# ['admin', 'hx123456', '192.168.1.223:554', 1, 'hik', '新线水泥磨PLC室', '80002302|00038910|00004281|00004345|00004280|00004348|00004346|00004358', 'YHat|NoHat']
# ,# yellow nohat
# ['admin', 'hx123456', '192.168.1.181:554', 1, 'hik', '老线装包电力室', '80002302|00038910|00004281|00004345|00004280|00004348|00004346|00004359', 'YHat|NoHat']
# ,# yellow nohat
# ['admin', 'hx123456', '192.168.1.91:554', 1, 'hik', '新线装包电力室', '80002302|00038910|00004281|00004345|00004280|00004348|00004346|00004360', 'YHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.199:554', 1, 'hik', '新线装包PLC室', '80002302|00038910|00004281|00004345|00004280|00004348|00004346|00004361', 'YHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.46:554', 1, 'hik', 'K1原料磨PLC室', '80002302|00038910|00004281|00004345|00004280|00004348|00004346|00004362', 'YHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.147:554', 1, 'hik', 'K1原料磨低压变频器室', '80002302|00038910|00004281|00004345|00004280|00004348|00004346|00004363', 'YHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.43:554', 1, 'hik', 'K1原料磨贷收尘控制柜室', '80002302|00038910|00004281|00004345|00004280|00004348|00004346|00004364', 'YHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.148:554', 1, 'hik', 'K1原料磨低压室', '80002302|00038910|00004281|00004345|00004280|00004348|00004346|00004365', 'YHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.47:554', 1, 'hik', 'K1原料磨水阻柜室', '80002302|00038910|00004281|00004345|00004280|00004348|00004346|00004366', 'YHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.146:554', 1, 'hik', 'K1窑尾PLC室', '80002302|00038910|00004281|00004345|00004280|00004348|00004346|00004367', 'YHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.95:554', 1, 'hik', 'K1窑尾窑主传变频器室', '80002302|00038910|00004281|00004345|00004280|00004348|00004346|00004368', 'YHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.151:554', 1, 'hik', 'K1窑尾高压变频器室', '80002302|00038910|00004281|00004345|00004280|00004348|00004346|00004369', 'YHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.154:554', 1, 'hik', 'K1旁路放风电力室', '80002302|00038910|00004281|00004345|00004280|00004348|00004346|00004370', 'YHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.67:554', 1, 'hik', 'K1窑头低压室', '80002302|00038910|00004281|00004345|00004280|00004348|00004346|00004371', 'YHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.245:554', 1, 'hik', 'RDF低压室', '80002302|00038910|00004281|00004345|00004280|00004348|00004346|00004372', 'YHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.231:554', 1, 'hik', 'RDF变频器室', '80002302|00038910|00004281|00004345|00004280|00004348|00004346|00004373', 'YHat|NoHat']
# ,# yellow nohat
# ['admin', 'hx123456', '192.168.1.242:554', 1, 'hik', 'RDF行车柜室', '80002302|00038910|00004281|00004345|00004280|00004348|00004346|00004374', 'YHat|NoHat']
# ,# yellow nohat
# ['admin', 'hx123456', '192.168.1.114:554', 1, 'hik', '原料预均化电气室', '80002302|00038910|00004281|00004345|00004280|00004348|00004346|00004375', 'YHat|NoHat']
# ,# nohat
# ['admin', 'hx123456', '192.168.1.192:554', 1, 'hik', '5号装车机头', '80002302|00038910|00014019|00004135|00004302|00004186|00004313|00004070|00004069|00004088', 'NoHat']
# ,#nohat
# ['admin', 'hx123456', '192.168.1.202:554', 1, 'hik', '8号装车机头', '80002302|00038910|00014019|00004135|00004302|00004186|00004313|00004070|00004069|00004090', 'NoHat']
# ,#nohat
# ['admin', 'hx123456', '192.168.1.226:554', 1, 'hik', '641BC1皮带', '80002302|00038910|00014019|00004135|00004302|00004186|00004313|00004070|00004069|00004091', 'NoHat']
# ,#nohat
# ['admin', 'hx123456', '192.168.1.82:554', 1, 'hik', '642BC1皮带', '80002302|00038910|00014019|00004135|00004302|00004186|00004313|00004070|00004069|00004092', 'NoHat']
# ,#nohat
# ['admin', 'hx123456', '192.168.1.187:554', 1, 'hik', '1号散装库', '80002302|00038910|00014019|00004135|00004302|00004186|00004313|00004070|00004069|00004093', 'NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.117:554', 1, 'hik', '2号散装库', '80002302|00038910|00014019|00004135|00004302|00004186|00004313|00004070|00004069|00004094', 'NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.110:554', 1, 'hik', '3号散装库', '80002302|00038910|00014019|00004135|00004302|00004186|00004313|00004070|00004069|00004095', 'NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.188:554', 1, 'hik', '4号散装库', '80002302|00038910|00014019|00004135|00004302|00004186|00004313|00004070|00004069|00004096', 'NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.197:554', 1, 'hik', '5号散装库', '80002302|00038910|00014019|00004135|00004302|00004186|00004313|00004070|00004069|00004097', 'NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.109:554', 1, 'hik', '6号散装库', '80002302|00038910|00014019|00004135|00004302|00004186|00004313|00004070|00004069|00004098', 'NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.116:554', 1, 'hik', '7号散装库', '80002302|00038910|00014019|00004135|00004302|00004186|00004313|00004070|00004069|00004099', 'NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.112:554', 1, 'hik', '8号散装库', '80002302|00038910|00014019|00004135|00004302|00004186|00004313|00004070|00004069|00004100', 'NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.188:554', 1, 'hik', '9号散装库', '80002302|00038910|00014019|00004135|00004302|00004186|00004313|00004070|00004069|00004101', 'NoHat']
# ,#nohat
# ['admin', 'hx123456', '192.168.1.190:554', 1, 'hik', '10号散装库', '80002302|00038910|00014019|00004135|00004302|00004186|00004313|00004070|00004069|00004102', 'BHat|NoHat']
# ,#nohat bluehat
# ['admin', 'hx123456', '192.168.1.83:554', 1, 'hik', '纸袋库1', '80002302|00038910|00014019|00004135|00004302|00004186|00004313|00004070|00004069|00004103', 'BHat|NoHat']
# ,#nohat bluehat
# ['admin', 'hx123456', '192.168.1.94:554', 1, 'hik', '纸袋库2', '80002302|00038910|00014019|00004135|00004302|00004186|00004313|00004070|00004069|00004104', 'BHat|NoHat']
# ,#nohat bluehat
# ['admin', 'hx123456', '192.168.1.164:554', 1, 'hik', '粉煤灰卸车区域', '80002302|00038910|00014019|00004135|00004302|00004186|00004313|00004070|00004069|00004105', 'BHat|NoHat']
# ,#nohat bluehat
# ['admin', 'hx123456', '192.168.1.84:554', 1, 'hik', '新、老线栈台1', '80002302|00038910|00014019|00004135|00004302|00004186|00004313|00004070|00004069|00004106', 'BHat|NoHat']
# ,#nohat bluehat
# ['admin', 'hx123456', '192.168.1.93:554', 1, 'hik', '新、老线栈台2', '80002302|00038910|00014019|00004135|00004302|00004186|00004313|00004070|00004069|00004107', 'BHat|NoHat']
# ,#nohat bluehat
# ['admin', 'hx123456', '192.168.1.189:554', 1, 'hik', '新、老线栈台3', '80002302|00038910|00014019|00004135|00004302|00004186|00004313|00004070|00004069|00004108', 'BHat|NoHat']
# ,#nohat bluehat
# ['admin', 'hx123456', '192.168.1.191:554', 1, 'hik', '装包转盘1', '80002302|00038910|00014019|00004135|00004302|00004186|00004313|00004070|00004069|00004110', 'BHat|NoHat']
# ,#nohat bluehat
# ['admin', 'hx123456', '192.168.1.193:554', 1, 'hik', '装包转盘2', '80002302|00038910|00014019|00004135|00004302|00004186|00004313|00004070|00004069|00004111', 'BHat|NoHat']
# ,#nohat bluehat
# ['admin', 'hx123456', '192.168.1.159:554', 1, 'hik', '熟料库底区域', '80002302|00038910|00014019|00004135|00004302|00004186|00004313|00004070|00004069|00004112', 'BHat|NoHat']
# ,#nohat bluehat shenying-sunwei-I audie
# ['admin', 'hx123456', '192.168.1.204:554', 1, 'hik', '熟料库底区域', '80002302|00038910|00014019|00004135|00004302|00004186|00004313|00004070|00004069|00004113', 'BHat|NoHat']
# ,#nohat bluehat --- 到这里
# ['admin', 'hx123456', '192.168.1.86:554', 1, 'hik', '511BC3皮带机', '80002302|00038910|00014019|00004135|00004302|00004186|00004313|00004070|00004069|00004114', 'BHat|NoHat']
# ,#nohat bluehat
# ['admin', 'hx123456', '192.168.1.161:554', 1, 'hik', '511BC6皮带机', '80002302|00038910|00014019|00004135|00004302|00004186|00004313|00004070|00004069|00004115', 'BHat|NoHat']

# end of 阳新水泥 2021.1.15


# ,
# ['admin', 'hx123456', '192.168.1.87:554', 1, 'hik', '水泥库楼梯入口1', '80002302|00038910|00014019|00004135|00004302|00004186|00004313|00004070|00004069|00004116', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.72:554', 1, 'hik', '水泥库楼梯入口2', '80002302|00038910|00014019|00004135|00004302|00004186|00004313|00004070|00004069|00004117', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.70:554', 1, 'hik', '老线磨房区域1', '80002302|00038910|00014019|00004135|00004302|00004186|00004313|00004070|00004069|00004119', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.166:554', 1, 'hik', '老线磨房区域2', '80002302|00038910|00014019|00004135|00004302|00004186|00004313|00004070|00004069|00004120', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.175:554', 1, 'hik', '老线磨房区域3', '80002302|00038910|00014019|00004135|00004302|00004186|00004313|00004070|00004069|00004121', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.79:554', 1, 'hik', '新线磨房区域1', '80002302|00038910|00014019|00004135|00004302|00004186|00004313|00004070|00004069|00004122', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.76:554', 1, 'hik', '新线磨房区域2', '80002302|00038910|00014019|00004135|00004302|00004186|00004313|00004070|00004069|00004123', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.158:554', 1, 'hik', '水泥磨水泵房', '80002302|00038910|00014019|00004135|00004302|00004186|00004313|00004070|00004069|00004125', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.80:554', 1, 'hik', '511BC4皮带机1', '80002302|00038910|00014019|00004135|00004302|00004186|00004313|00004070|00004069|00004126', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.73:554', 1, 'hik', '511BC4皮带机2', '80002302|00038910|00014019|00004135|00004302|00004186|00004313|00004070|00004069|00004127', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.162:554', 1, 'hik', 'K1烟室1（2楼半）', '80002302|00038910|00004009|00004302|00004171|00004479|00004073|00004154|00004079|00005667', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.163:554', 1, 'hik', 'K1烟室2（2楼半）', '80002302|00038910|00004009|00004302|00004171|00004479|00004073|00004154|00004079|00005668', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.156:554', 1, 'hik', 'K1预热器下料管(3楼）', '80002302|00038910|00004009|00004302|00004171|00004479|00004073|00004154|00004079|00005669', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.153:554', 1, 'hik', 'K1预热器下料管1(6楼）', '80002302|00038910|00004009|00004302|00004171|00004479|00004073|00004154|00004079|00005670', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.165:554', 1, 'hik', 'K1预热器下料管2(6楼）', '80002302|00038910|00004009|00004302|00004171|00004479|00004073|00004154|00004079|00005671', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.40:554', 1, 'hik', 'K1窑头清料孔1', '80002302|00038910|00004009|00004302|00004171|00004479|00004073|00004154|00004079|00005672', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.195:554', 1, 'hik', 'K1窑头清料孔2', '80002302|00038910|00004009|00004302|00004171|00004479|00004073|00004154|00004079|00005673', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.39:554', 1, 'hik', 'K1窑头平台', '80002302|00038910|00004009|00004302|00004171|00004479|00004073|00004154|00004079|00005674', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.143:554', 1, 'hik', 'K2窑头平台', '80002302|00038910|00004009|00004302|00004171|00004479|00004073|00004154|00004079|00005675', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.57:554', 1, 'hik', 'K1破碎机', '80002302|00038910|00004009|00004302|00004171|00004479|00004073|00004154|00004079|00005676', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.149:554', 1, 'hik', 'R1磨门', '80002302|00038910|00004009|00004302|00004171|00004479|00004073|00004154|00004079|00005677', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.152:554', 1, 'hik', 'R2磨门', '80002302|00038910|00004009|00004302|00004171|00004479|00004073|00004154|00004079|00005678', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.232:554', 1, 'hik', 'K2烟室2（2楼半）', '80002302|00038910|00004009|00004302|00004171|00004479|00004073|00004154|00004079|00005680', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.244:554', 1, 'hik', 'K2预热器下料管(3楼）', '80002302|00038910|00004009|00004302|00004171|00004479|00004073|00004154|00004079|00005681', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.107:554', 1, 'hik', 'K2预热器下料管1(6楼）', '80002302|00038910|00004009|00004302|00004171|00004479|00004073|00004154|00004079|00005682', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.105:554', 1, 'hik', 'K2预热器下料管2(6楼）', '80002302|00038910|00004009|00004302|00004171|00004479|00004073|00004154|00004079|00005683', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.104:554', 1, 'hik', 'K2窑头清料孔', '80002302|00038910|00004009|00004302|00004171|00004479|00004073|00004154|00004079|00005684', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.139:554', 1, 'hik', 'K2破碎机', '80002302|00038910|00004009|00004302|00004171|00004479|00004073|00004154|00004079|00005685', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.63:554', 1, 'hik', 'R3进口磨门', '80002302|00038910|00004009|00004302|00004171|00004479|00004073|00004154|00004079|00005686', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.131:554', 1, 'hik', 'R3出口磨门', '80002302|00038910|00004009|00004302|00004171|00004479|00004073|00004154|00004079|00005687', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.97:554', 1, 'hik', '氨水库登车平台1', '80002302|00038910|00004009|00004302|00004171|00004479|00004073|00004154|00004079|00005688', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.150:554', 1, 'hik', '氨水库登车平台2', '80002302|00038910|00004009|00004302|00004171|00004479|00004073|00004154|00004079|00005689', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.115:554', 1, 'hik', '老联合储库1', '80002302|00038910|00004009|00004302|00004171|00004479|00004073|00004154|00004079|00005690', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.88:554', 1, 'hik', '老联合储库2', '80002302|00038910|00004009|00004302|00004171|00004479|00004073|00004154|00004079|00005691', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.69:554', 1, 'hik', '新联合储库', '80002302|00038910|00004009|00004302|00004171|00004479|00004073|00004154|00004079|00005692', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.68:554', 1, 'hik', '新联合储库', '80002302|00038910|00004009|00004302|00004171|00004479|00004073|00004154|00004079|00005693', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.179:554', 1, 'hik', '新联合储库1', '80002302|00038910|00004009|00004302|00004171|00004479|00004073|00004154|00004079|00005694', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.177:554', 1, 'hik', '新联合储库2', '80002302|00038910|00004009|00004302|00004171|00004479|00004073|00004154|00004079|00005695', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.170:554', 1, 'hik', '新联合储库3', '80002302|00038910|00004009|00004302|00004171|00004479|00004073|00004154|00004079|00005696', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.171:554', 1, 'hik', '新联合储库4', '80002302|00038910|00004009|00004302|00004171|00004479|00004073|00004154|00004079|00005697', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.172:554', 1, 'hik', '3B1BC1皮带秤平台', '80002302|00038910|00004009|00004302|00004171|00004479|00004073|00004154|00004079|00005698', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.180:554', 1, 'hik', '3B1CV1皮带秤平台', '80002302|00038910|00004009|00004302|00004171|00004479|00004073|00004154|00004079|00005699', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.174:554', 1, 'hik', '333BC2皮带秤平台', '80002302|00038910|00004009|00004302|00004171|00004479|00004073|00004154|00004079|00005700', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.173:554', 1, 'hik', '333CV1皮带秤平台', '80002302|00038910|00004009|00004302|00004171|00004479|00004073|00004154|00004079|00005701', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.44:554', 1, 'hik', '砂岩破碎机1', '80002302|00038910|00004009|00004302|00004171|00004479|00004073|00004154|00004079|00005702', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.45:554', 1, 'hik', '砂岩破碎机2', '80002302|00038910|00004009|00004302|00004171|00004479|00004073|00004154|00004079|00005703', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.205:554', 1, 'hik', '砂岩破碎机3', '80002302|00038910|00004009|00004302|00004171|00004479|00004073|00004154|00004079|00005704', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.185:554', 1, 'hik', '211BC5地坑', '80002302|00038910|00004009|00004302|00004171|00004479|00004073|00004154|00004079|00005705', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.90:554', 1, 'hik', '老联合储库入口1', '80002302|00038910|00004009|00004302|00004171|00004479|00004073|00004154|00004079|00005706', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.184:554', 1, 'hik', '老联合储库入口2', '80002302|00038910|00004009|00004302|00004171|00004479|00004073|00004154|00004079|00005707', 'RHat|YHat|BHat|NoHat']
# ,
['admin', 'hx123456', '192.168.1.38:554', 1, 'hik', 'K1煤磨进口', '80002302|00038910|00004009|00004302|00004171|00004479|00004073|00004154|00004079|00005709', 'RHat|YHat|BHat|NoHat']
,
['admin', 'hx123456', '192.168.1.41:554', 1, 'hik', 'K1煤磨出口', '80002302|00038910|00004009|00004302|00004171|00004479|00004073|00004154|00004079|00005710', 'RHat|YHat|BHat|NoHat']
,
['admin', 'hx123456', '192.168.1.142:554', 1, 'hik', 'K2煤磨进口', '80002302|00038910|00004009|00004302|00004171|00004479|00004073|00004154|00004079|00005711', 'RHat|YHat|BHat|NoHat']
,
['admin', 'hx123456', '192.168.1.141:554', 1, 'hik', 'K2煤磨出口', '80002302|00038910|00004009|00004302|00004171|00004479|00004073|00004154|00004079|00005712', 'RHat|YHat|BHat|NoHat']
,
['admin', 'hx123456', '192.168.1.229:554', 1, 'hik', '柴油库', '80002302|00038910|00004009|00004302|00004171|00004479|00004073|00004154|00004079|00005713', 'RHat|YHat|BHat|NoHat']
,
['admin', 'hx123456', '192.168.1.36:554', 1, 'hik', 'K1熟料拉链机巷道沿线1', '80002302|00038910|00004009|00004302|00004171|00004479|00004073|00004154|00004079|00005714', 'RHat|YHat|BHat|NoHat']
,
['admin', 'hx123456', '192.168.1.37:554', 1, 'hik', 'K1熟料拉链机巷道沿线2', '80002302|00038910|00004009|00004302|00004171|00004479|00004073|00004154|00004079|00005715', 'RHat|YHat|BHat|NoHat']
,
['admin', 'hx123456', '192.168.1.42:554', 1, 'hik', 'K1熟料拉链机巷道沿线3', '80002302|00038910|00004009|00004302|00004171|00004479|00004073|00004154|00004079|00005716', 'RHat|YHat|BHat|NoHat']
,
['admin', 'hx123456', '192.168.1.140:554', 1, 'hik', 'K2熟料拉链机巷道沿线1', '80002302|00038910|00004009|00004302|00004171|00004479|00004073|00004154|00004079|00005717', 'RHat|YHat|BHat|NoHat']
,
['admin', 'hx123456', '192.168.1.144:554', 1, 'hik', 'K2熟料拉链机巷道沿线2', '80002302|00038910|00004009|00004302|00004171|00004479|00004073|00004154|00004079|00005718', 'RHat|YHat|BHat|NoHat']
,
['admin', 'hx123456', '192.168.1.157:554', 1, 'hik', 'K1RDF喂垃圾口', '80002302|00038910|00004009|00004302|00004171|00004479|00004073|00004154|00004079|00005720', 'RHat|YHat|BHat|NoHat']
,
['admin', 'hx123456', '192.168.1.160:554', 1, 'hik', 'K1脱硫卸车点', '80002302|00038910|00004009|00004302|00004171|00004479|00004073|00004154|00004079|00005721', 'RHat|YHat|BHat|NoHat']
,
['admin', 'hx123456', '192.168.1.130:554', 1, 'hik', 'K2脱硫卸车点', '80002302|00038910|00004009|00004302|00004171|00004479|00004073|00004154|00004079|00005722', 'RHat|YHat|BHat|NoHat']
,
['admin', 'hx123456', '192.168.1.81:554', 1, 'hik', '汽机房1', '80002302|00038910|00004009|00004302|00004171|00004479|00004073|00004154|00004079|00005723', 'RHat|YHat|BHat|NoHat']
,
['admin', 'hx123456', '192.168.1.89:554', 1, 'hik', '汽机房2', '80002302|00038910|00004009|00004302|00004171|00004479|00004073|00004154|00004079|00005724', 'RHat|YHat|BHat|NoHat']
,
['admin', 'hx123456', '192.168.1.92:554', 1, 'hik', '余热发电循环水池', '80002302|00038910|00004009|00004302|00004171|00004479|00004073|00004154|00004079|00005725', 'RHat|YHat|BHat|NoHat']
,
['admin', 'hx123456', '192.168.1.155:554', 1, 'hik', 'K1旁路放灰', '80002302|00038910|00004344|00004115', 'RHat|YHat|BHat|NoHat']
,
['admin', 'hx123456', '192.168.1.224:554', 1, 'hik', 'K2旁路放灰', '80002302|00038910|00004344|00004116', 'RHat|YHat|BHat|NoHat']
,
['admin', 'hx123456', '192.168.1.237:554', 1, 'hik', '码头平台下坡处', '80002302|00038910|00004344|00004117', 'RHat|YHat|BHat|NoHat']
,
['admin', 'hx123456', '192.168.1.233:554', 1, 'hik', '码头左侧平台处', '80002302|00038910|00004344|00004118', 'RHat|YHat|BHat|NoHat']
,
['admin', 'hx123456', '192.168.1.235:554', 1, 'hik', 'L11BC4皮带', '80002302|00038910|00004344|00004119', 'RHat|YHat|BHat|NoHat']
,
['admin', 'hx123456', '192.168.1.234:554', 1, 'hik', '码头装船机', '80002302|00038910|00004344|00004122', 'RHat|YHat|BHat|NoHat']
,
['admin', 'hx123456', '192.168.1.227:554', 1, 'hik', '润滑油库', '80002302|00038910|00002860|00004302|00004268', 'RHat|YHat|BHat|NoHat']
,
['admin', 'hx123456', '192.168.1.168:554', 1, 'hik', '综合库房材料院', '80002302|00038910|00002860|00004302|00004269', 'RHat|YHat|BHat|NoHat']
,
['admin', 'hx123456', '192.168.1.169:554', 1, 'hik', '综合库房材料院', '80002302|00038910|00002860|00004302|00004270', 'RHat|YHat|BHat|NoHat']
,
['admin', 'hx123456', '192.168.1.176:554', 1, 'hik', '综合库房材料院', '80002302|00038910|00002860|00004302|00004271', 'RHat|YHat|BHat|NoHat']
,
['admin', 'hx123456', '192.168.1.182:554', 1, 'hik', '综合库房材料院', '80002302|00038910|00002860|00004302|00004272', 'RHat|YHat|BHat|NoHat']
,
['admin', 'hx123456', '192.168.1.183:554', 1, 'hik', '综合库房材料院', '80002302|00038910|00002860|00004302|00004273', 'RHat|YHat|BHat|NoHat']
,
['admin', 'admin12345', '192.168.1.120:554', 1, 'hik', 'K2头排风机', '80002302|00038910|00004281|00004345|00004280|00004348|00004346|00004339', 'RHat|YHat|BHat|NoHat']
,
['admin', 'admin12345', '192.168.1.121:554', 1, 'hik', 'K2煤磨主电机', '80002302|00038910|00004281|00004345|00004280|00004348|00004346|00004340', 'RHat|YHat|BHat|NoHat']
,
['admin', 'hx123456', '192.168.1.64:554', 1, 'hik', 'K2窑头PLC室', '80002302|00038910|00004281|00004345|00004280|00004348|00004346|00004341', 'RHat|YHat|BHat|NoHat']
,
['admin', 'admin12345', '192.168.1.122:554', 1, 'hik', 'K2ID风机', '80002302|00038910|00004281|00004345|00004280|00004348|00004346|00004342', 'RHat|YHat|BHat|NoHat']
,
['admin', 'admin12345', '192.168.1.123:554', 1, 'hik', 'K2窑主传', '80002302|00038910|00004281|00004345|00004280|00004348|00004346|00004343', 'RHat|YHat|BHat|NoHat']
,
['admin', 'admin12345', '192.168.1.100:554', 1, 'hik', 'K2窑中高压室1', '80002302|00038910|00004281|00004345|00004280|00004348|00004346|00004344', 'RHat|YHat|BHat|NoHat']
,
['admin', 'admin12345', '192.168.1.101:554', 1, 'hik', 'K2窑中高压室2', '80002302|00038910|00004281|00004345|00004280|00004348|00004346|00004345', 'RHat|YHat|BHat|NoHat']
,
['admin', 'admin12345', '192.168.1.124:554', 1, 'hik', 'R3原料磨主电机', '80002302|00038910|00004281|00004345|00004280|00004348|00004346|00004346', 'RHat|YHat|BHat|NoHat']
,
['admin', 'admin12345', '192.168.1.125:554', 1, 'hik', 'K2尾排风机', '80002302|00038910|00004281|00004345|00004280|00004348|00004346|00004347', 'RHat|YHat|BHat|NoHat']
,
['admin', 'admin12345', '192.168.1.126:554', 1, 'hik', '取样3', '80002302|00038910|00004009|00004302|00004171|00004479|00004073|00004154|00004079|00005667', 'RHat|YHat|BHat|NoHat']
,
['admin', 'admin12345', '192.168.1.127:554', 1, 'hik', '取样4', '80002302|00038910|00004009|00004302|00004171|00004479|00004073|00004154|00004079|00005668', 'RHat|YHat|BHat|NoHat']
,
['admin', 'admin12345', '192.168.1.50:554', 1, 'hik', 'K1头排风机', '80002302|00038910|00004281|00004345|00004280|00004348|00004346|00004339', 'RHat|YHat|BHat|NoHat']
,
# ['admin', 'admin12345', '192.168.1.51:554', 1, 'hik', 'K1煤磨主电机', '80002302|00038910|00004281|00004345|00004280|00004348|00004346|00004340', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.65:554', 1, 'hik', 'K1窑头PLC室', '80002302|00038910|00004281|00004345|00004280|00004348|00004346|00004341', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'admin12345', '192.168.1.52:554', 1, 'hik', 'K1ID风机', '80002302|00038910|00004281|00004345|00004280|00004348|00004346|00004342', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'admin12345', '192.168.1.53:554', 1, 'hik', 'K1窑主传', '80002302|00038910|00004281|00004345|00004280|00004348|00004346|00004343', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'admin12345', '192.168.1.30:554', 1, 'hik', 'K1窑中高压室1', '80002302|00038910|00004281|00004345|00004280|00004348|00004346|00004344', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'admin12345', '192.168.1.31:554', 1, 'hik', 'K1窑中高压室2', '80002302|00038910|00004281|00004345|00004280|00004348|00004346|00004345', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'admin12345', '192.168.1.54:554', 1, 'hik', 'R1主电机1', '80002302|00038910|00004281|00004345|00004280|00004348|00004346|00004346', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'admin12345', '192.168.1.55:554', 1, 'hik', 'R2主电机2', '80002302|00038910|00004281|00004345|00004280|00004348|00004346|00004347', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'admin12345', '192.168.1.56:554', 1, 'hik', 'K1尾排风机', '80002302|00038910|00004281|00004345|00004280|00004348|00004346|00004348', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'admin12345', '192.168.1.57:554', 1, 'hik', 'R1主减油站1', '80002302|00038910|00004009|00004302|00004171|00004479|00004073|00004154|00004079|00005667', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'admin12345', '192.168.1.58:554', 1, 'hik', 'R2主减油站2', '80002302|00038910|00004009|00004302|00004171|00004479|00004073|00004154|00004079|00005668', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'admin12345', '192.168.1.59:554', 1, 'hik', 'K1配料1', '80002302|00038910|00004009|00004302|00004171|00004479|00004073|00004154|00004079|00005669', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'admin12345', '192.168.1.60:554', 1, 'hik', 'K1配料2', '80002302|00038910|00004009|00004302|00004171|00004479|00004073|00004154|00004079|00005670', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'admin12345', '192.168.1.61:554', 1, 'hik', 'K2配料1', '80002302|00038910|00004009|00004302|00004171|00004479|00004073|00004154|00004079|00005671', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'admin12345', '192.168.1.62:554', 1, 'hik', 'K2配料2', '80002302|00038910|00004009|00004302|00004171|00004479|00004073|00004154|00004079|00005672', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'admin12345', '192.168.1.102:554', 1, 'hik', '余热发电高压室', '80002302|00038910|00004281|00004345|00004280|00004348|00004346|00004339', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'admin12345', '192.168.1.128:554', 1, 'hik', '汽轮机1', '80002302|00038910|00004281|00004345|00004280|00004348|00004346|00004340', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'admin12345', '192.168.1.129:554', 1, 'hik', '汽轮机2', '80002302|00038910|00004281|00004345|00004280|00004348|00004346|00004341', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'admin12345', '192.168.1.200:554', 1, 'hik', '老线水泥磨高压室', '80002302|00038910|00004281|00004345|00004280|00004348|00004346|00004342', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'admin12345', '192.168.1.210:554', 1, 'hik', 'C1磨主电机1', '80002302|00038910|00004281|00004345|00004280|00004348|00004346|00004343', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'admin12345', '192.168.1.211:554', 1, 'hik', 'C2磨主电机2', '80002302|00038910|00004281|00004345|00004280|00004348|00004346|00004344', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.216:554', 1, 'hik', '磨头仓5118C7', '80002302|00038910|00014019|00004135|00004302|00004186|00004313|00004070|00004069|00004088', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.217:554', 1, 'hik', '磨头仓513MW1', '80002302|00038910|00014019|00004135|00004302|00004186|00004313|00004070|00004069|00004089', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.218:554', 1, 'hik', '磨头仓511BC8', '80002302|00038910|00014019|00004135|00004302|00004186|00004313|00004070|00004069|00004090', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.219:554', 1, 'hik', '石膏仓监控', '80002302|00038910|00014019|00004135|00004302|00004186|00004313|00004070|00004069|00004091', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.201:554', 1, 'hik', '新线水泥磨高压室', '80002302|00038910|00004281|00004345|00004280|00004348|00004346|00004339', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.212:554', 1, 'hik', 'C3磨主电机1', '80002302|00038910|00004281|00004345|00004280|00004348|00004346|00004340', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.213:554', 1, 'hik', 'C4磨主电机2', '80002302|00038910|00004281|00004345|00004280|00004348|00004346|00004341', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.214:554', 1, 'hik', '总配电力室1', '80002302|00038910|00004281|00004345|00004280|00004348|00004346|00004342', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.215:554', 1, 'hik', '总配电力室2', '80002302|00038910|00004281|00004345|00004280|00004348|00004346|00004343', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.7.61:554', 1, 'hik', '破碎机平台', '80002302|00038910|00004001|00004381|00004438|00004323', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.228:554', 1, 'hik', '维修车间', '80002302|00038910|00004001|00004381|00004438|00004324', 'RHat|YHat|BHat|NoHat']
# ,
# ['admin', 'hx123456', '192.168.1.171:554', 1, 'hik', '211BC2皮带机尾部1', '80002302|00038910|00004001|00004381|00004438|00004325', 'RHat|YHat|BHat|NoHat']
]

''' 
default_enter_rule:
 RHat  means: red hat enter , will notify
 YHat  means: yellow hat enter, will notify
 BHat  means: Blue hat enter, will notify
 NoHat means: people without hat enter, will notify
''' 
default_enter_rule = 'BHat, NoHat'

# video_urls = [
#     # start 本地测试
#     # ["admin", "admin123", "10.248.10.100:554", 1, 'dahua', "华新数创5楼室内0", "80002302|00038910"],  # ipv4
#     # ["admin", "admin123", "10.248.10.100:554", 3, 'dahua', "华新数创5楼室内1", "80002302"],

#     # ["admin", "huaxin12345", "10.248.10.43:554", 1, "hik","", "80002302"],
#     # end   本地测试

#     # ['admin', 'yxgl$666','192.168.200.182:554',1, 'hik', '库房内货架',   '80002302|00038910|00030414|00031710|00030066|00030411|00008650|00030703|00038948|00043946'],
#     # ['admin', 'yxgl$666','192.168.200.183:554',1, 'hik', '二期中细破电气室', '80002302|00038910|00030414|00031710|00030066|00030411|00008650|00030703|00038948|00043946'],
#     # ['admin', 'yxgl$666','192.168.200.184:554',1, 'hik', '砂石水洗电气室', '80002302|00038910|00030414|00031710|00030066|00030411|00008650|00030703|00038948|00043946'],
#     # 蓝色不能进入，所有区域 不戴帽子报警
#     ['admin', 'yxgl$666','192.168.201.40:554',1, 'hik', '柴油库', '80002302|00038910|00030350|00001137|00000849|00036276|00038086|00048406|00038102|00030066|00030411|00008650|00030703|00030406|00043946|00038948|00031710', 'YHat, BHat, NoHat'],
#     ['admin', 'yxgl$666','192.168.201.39:554',1, 'hik', '危废库', '80002302|00038910|00000849|00005158|00036276|00038086|00048406|00028734|00030066|00030411|00008650|00030703|00030406|00043946|00038948|00031710', 'YHat, BHat, NoHat'],
#     ['admin', 'yxgl$666','192.168.201.38:554',1, 'hik', '氧气乙炔库', '80002302|00038910|00000849|00005158|00036276|00038086|00048406|00028734|00030066|00030411|00008650|00030703|00030406|00043946|00038948|00031710', 'YHat, BHat, NoHat'],


#     ['admin', 'yxgl$666','192.168.200.185:554',1, 'hik', '一期低压中心', '80002302|00038910|00005158|00000856|00028734|00030066|00030411|00008650|00030703|00030406|00043946|00038948|00031710', 'YHat, NoHat'],
#     # 只能红颜色，所有区域 不戴帽子报警
#     ['admin', 'yxgl$666','192.168.200.186:554',1, 'hik', '老中控', '80002302|00038910|00005158|00000856|00028734|00030066|00030411|00008650|00030703|00030406|00043946|00038948|00031710', 'YHat, NoHat'],
#     # 红色，黄色，蓝色入侵中间区域报警 不戴帽子报警
#     ['admin', 'yxgl$666','192.168.200.188:554',1, 'hik', '2号给料机', '80002302|00038910|00008618|00043468|00015922|00004462|00043401|00014069|00030066|00030411|00008650|00030703|00030406|00043946|00038948|00031710', default_enter_rule],
#     # 红色，黄色，蓝色入侵中间区域报警 不戴帽子报警
#     ['admin', 'yxgl$666','192.168.200.189:554',1, 'hik', '3号给料机', '80002302|00038910|00008618|00043468|00015922|00004462|00043401|00014069|00030066|00030411|00008650|00030703|00030406|00043946|00038948|00031710', default_enter_rule],
#     # 红色，黄色，蓝色入侵中间区域报警 不戴帽子报警
#     ['admin', 'yxgl$666','192.168.200.190:554',1, 'hik', '4号给料机', '80002302|00038910|00008618|00043468|00015922|00004462|00043401|00014069|00030066|00030411|00008650|00030703|00030406|00043946|00038948|00031710', default_enter_rule],
#     # ['admin', 'yxgl$666','192.168.200.195:554',1, 'hik', '4号皮带洞二给料机', '80002302|00038910|00030414|00031710|00030066|00030411|00008650|00030703|00038948|00043946'],
#     # 红色，黄色，蓝色入侵中间区域报警 不戴帽子报警
#     ['admin', 'yxgl$666','192.168.200.196:554',1, 'hik', '4号皮带洞一给料机', '80002302|00038910|00030350|00001137|00000849|00036276|00038086|00048406|00008618|00043468|00015922|00004462|00043401|00014069|00030066|00030411|00008650|00030703|00030406|00043946|00038948|00031710', default_enter_rule], # 10

#     #['admin', 'yxgl$666','192.168.200.199:554',1, 'hik', '下料口',    '80002302|00038910|00030414|00031710|00030066|00030411|00008650|00030703|00038948|00043946'],
#     # 红色，黄色，蓝色入侵中间区域报警，待设定，太频繁就不设置 不戴帽子报警
#     ['admin', 'yxgl$666','192.168.200.204:554',1, 'hik', '一期一级筛', '80002302|00038910|00000849|00008618|00043468|00015922|00004462|00043401|00014069|00030066|00030411|00008650|00030703|00030406|00043946|00038948|00031710', default_enter_rule],
#     # ['admin', '12345','192.168.200.52:554',1, 'hik', '332VF1', '80002302|00038910|00030414|00031710|00030066|00030411|00008650|00030703|00038948|00043946'],    
#     # ['admin', '12345','192.168.200.53:554',1, 'hik', '312BC2', '80002302|00038910|00030414|00031710|00030066|00030411|00008650|00030703|00038948|00043946'],
#     #['admin', '12345','192.168.200.54:554',1, 'hik', '回料仓', '80002302|00038910|00030414|00031710|00030066|00030411|00008650|00030703|00038948|00043946'],
#     # 红色，黄色，蓝色入侵中间区域报警，待设定，不戴帽子报警
#     ['admin', '12345','192.168.200.55:554',1, 'hik', '322VF2二线洞内2号给料机', '80002302|00038910|00008618|00043468|00015922|00004462|00043401|00014069|00030066|00030411|00008650|00030703|00030406|00043946|00038948|00031710', default_enter_rule],
#     # # 红色，黄色，蓝色入侵中间区域报警，待设定，不戴帽子报警
#     ['admin', '12345','192.168.200.56:554',1, 'hik', '二线一级筛', '80002302|00038910|00000849|00008618|00043468|00015922|00004462|00043401|00014069|00030066|00030411|00008650|00030703|00030406|00043946|00038948|00031710', default_enter_rule],
#     # 所有帽子，没帽子，整个区域 $$
#     ['admin', '12345','192.168.200.58:554',1, 'hik', '中转楼皮带', '80002302|00038910|00008618|00043468|00015922|00004462|00043401|00014069|00030066|00030411|00008650|00030703|00030406|00043946|00038948|00031710', 'YHat, BHat, NoHat'],
#     #['admin', '12345','192.168.200.59:554',1, 'hik', '312BC1', '80002302|00038910|00030414|00031710|00030066|00030411|00008650|00030703|00038948|00043946'], 
#     ['admin', 'yxgl$666','192.168.200.60:554',1, 'hik', '浓缩机',    '80002302|00038910|00008627|00030081|00008651|00043239|00043424|00036338|00031537|00043947|80002146|00002879', 'YHat, BHat, NoHat'], #20
#     # 所有帽子，没帽子 中间区域
#     #['admin', '12345','192.168.200.64:554',1, 'hik', '浓缩池', '80002302|00038910|00030414|00031710|00030066|00030411|00008650|00030703|00038948|00043946'],
#     # 所有帽子，没帽子 所有区域
#     ['admin', '12345','192.168.200.67:554',1, 'hik', '储水池', '80002302|00038910|00008627|00030081|00008651|00043239|00043424|00036338|00031537|00043947|80002146|00002879', 'YHat, BHat, NoHat'],
#     ## 所有帽子，没帽子 所有区域
#     ['admin', '12345','192.168.200.70:554',1, 'hik', '322VF4二线中破给料机', '80002302|00038910|00008618|00043468|00015922|00004462|00043401|00014069|00030066|00030411|00008650|00030703|00030406|00043946|00038948|00031710', default_enter_rule],    
#     #['admin', '12345','192.168.200.74:554',1, 'hik', '二线预筛分', '80002302|00038910|00030414|00031710|00030066|00030411|00008650|00030703|00038948|00043946'],
#     #['admin', '12345','192.168.200.76:554',1, 'hik', '二期中间料场球机', '80002302|00038910|00030414|00031710|00030066|00030411|00008650|00030703|00038948|00043946'],
#     #['admin', '12345','192.168.200.77:554',1, 'hik', '353BC1水箱', '80002302|00038910|00030414|00031710|00030066|00030411|00008650|00030703|00038948|00043946'],
    
#     #['admin', '12345','192.168.200.80:554',1, 'hik', '323bc2喂料仓', '80002302|00038910|00030414|00031710|00030066|00030411|00008650|00030703|00038948|00043946'],
#     #['admin', '12345','192.168.200.95:554',1, 'hik', '缓冲池', '80002302|00038910|00030414|00031710|00030066|00030411|00008650|00030703|00038948|00043946'],
#     # # 所有帽子，没帽子 中间桥
#     ['admin', '12345','192.168.200.96:554',1, 'hik', '清水池', '80002302|00038910|00008627|00030081|00008651|00043239|00043424|00036338|00031537|00043947|80002146|00002879', 'YHat, BHat, NoHat'], 
#     # # 所有帽子，没帽子 中间桥 spot
#     ['admin', 'yxgl$666','192.168.200.110:554',1, 'hik', '污水处理2中转池',    '80002302|00038910|00000849|00008627|00030081|00008651|00043239|00043424|00036338|00031537|00043947|80002146|00002879', default_enter_rule],#30
    
#     # 所有帽子，没帽子
#     ['admin', 'yxgl$666','192.168.200.209:554',1, 'hik', '一期码头BC2钢架桥', '80002302|00038910|00008627|00030081|00008651|00043239|00043424|00036338|00031537|00043947|80002146|00002879', default_enter_rule],
#    # ['admin', 'yxgl$666','192.168.200.210:554',1, 'hik', '191BCB洞内2', '80002302|00038910|00030414|00031710|00030066|00030411|00008650|00030703|00038948|00043946'],
#     # # 所有帽子，没帽子，下1/3 部分
#     ['admin', 'yxgl$666','192.168.200.211:554',1, 'hik', '一期泵船-黄石', '80002302|00038910|00030350|00001137|00000849|00036276|00038086|00048406|00008627|00030081|00008651|00043239|00043424|00036338|00031537|00043947|80002146|00002879', default_enter_rule],    
#      # spot
#     ['admin', 'yxgl$666','192.168.201.34:554',1, 'hik', '二期粗破平台-黄石', '80002302|00038910|00030350|00001137|00000849|00036276|00038086|00048406|00008618|00004002|00030074|00043836|00043468|00015922|00004462|00043401|00014069|00030066|00030411|00008650|00030703|00030406|00043946|00038948|00031710', default_enter_rule],    

#     #['admin', 'yxgl$666','192.168.200.212:554',1, 'hik', '二期码头船污水箱', '80002302|00038910|00030414|00031710|00030066|00030411|00008650|00030703|00038948|00043946'],
#     # not reliable
#     # ['admin', 'yxgl$666','192.168.201.32:554',1, 'hik', '二期粗破平台-富池', '80002302|00038910|00030350|00001137|00000849|00036276|00038086|00048406|00008618|00004002|00030074|00043836|00043468|00015922|00004462|00043401|00014069|00030066|00030411|00008650|00030703|00030406|00043946|00038948|00031710'],
#     # # 所有帽子，没帽子，所有区域
#     ['admin', 'yxgl$666','192.168.201.6:554',1, 'hik', '384洞内1', '80002302|00038910|00030350|00001137|00000849|00036276|00038086|00048406|00008627|00030081|00008651|00043239|00043424|00036338|00031537|00043947|80002146|00002879', default_enter_rule],
#     # 密码修改
#     #['admin', 'yxgl$666','192.168.200.217:554',1, 'hik', '191BC1洞内2', '80002302|00038910|00030414|00031710|00030066|00030411|00008650|00030703|00038948|00043946'],
#     # ['admin', 'yxgl$666','192.168.200.218:554',1, 'hik', '粗破卸料口', '80002302|00038910|00030414|00031710|00030066|00030411|00008650|00030703|00038948|00043946'],
#     # 所有帽子，没帽子，所有区域 $$
#     ['admin', 'yxgl$666','192.168.201.26:554',1, 'hik', '一期粗破平台-富池', '80002302|00038910|00030350|00001137|00000849|00036276|00038086|00048406|00008618|00004002|00030074|00043836|00043468|00015922|00004462|00043401|00014069|00030066|00030411|00008650|00030703|00030406|00043946|00038948|00031710', default_enter_rule], 
#     # 所有帽子，没帽子，所有区域 左下角
#     #['admin', 'yxgl$666','192.168.201.28:554',1, 'hik', '一期粗破平台-黄石',    '80002302|00038910|00030414|00031710|00030066|00030411|00008650|00030703|00038948|00043946'],#40
#     # 密码变化了：
#     #['admin', 'yxgl$666','192.168.200.222:554',1, 'hik', '383BC1洞内1', '80002302|00038910|00030414|00031710|00030066|00030411|00008650|00030703|00038948|00043946'],    
#     # 所有帽子，没帽子，所有区域
#     ['admin', 'yxgl$666','192.168.201.10:554',1, 'hik', '191BCA洞内1-1期发运洞内皮带', '80002302|00038910|00030350|00001137|00000849|00036276|00038086|00048406|00008618|00004002|00030074|00043836|00043468|00015922|00004462|00043401|00014069|00030066|00030411|00008650|00030703|00030406|00043946|00038948|00031710', default_enter_rule],
#     # 所有帽子，没帽子，所有区域
#     ['admin', 'yxgl$666','192.168.201.28:554',1, 'hik', '一期粗破平台-黄石', '80002302|00038910|00030350|00001137|00000849|00036276|00038086|00048406|00008618|00004002|00030074|00043836|00043468|00015922|00004462|00043401|00014069|00030066|00030411|00008650|00030703|00030406|00043946|00038948|00031710', default_enter_rule],
#     ## 所有帽子，没帽子，所有区域 上中
#     ['admin', 'yxgl$666','192.168.201.29:554',1, 'hik', '粗破卸料口-富池', '80002302|00038910|00030350|00001137|00000849|00036276|00038086|00048406|00008618|00004002|00030074|00043836|00043468|00015922|00004462|00043401|00014069|00030066|00030411|00008650|00030703|00030406|00043946|00038948|00031710', default_enter_rule],    
#     ## 所有帽子，没帽子，所有区域 上中
#     ['admin', 'yxgl$666','192.168.201.36:554',1, 'hik', '2期-粗破卸料口-富池', '80002302|00038910|00030350|00001137|00000849|00036276|00038086|00048406|00008618|00004002|00030074|00043836|00043468|00015922|00004462|00043401|00014069|00030066|00030411|00008650|00030703|00030406|00043946|00038948|00031710', default_enter_rule],
#     ['admin', 'yxgl$666','192.168.201.37:554',1, 'hik', '2期-粗破卸料口-黄石', '80002302|00038910|00030350|00001137|00000849|00036276|00038086|00048406|00008618|00004002|00030074|00043836|00043468|00015922|00004462|00043401|00014069|00030066|00030411|00008650|00030703|00030406|00043946|00038948|00031710', default_enter_rule],
#     # spot
#     ['admin', 'yxgl$666','192.168.200.215:554',1, 'hik', '2期泵船栈桥', '80002302|00038910|00030350|00001137|00000849|00036276|00038086|00048406|00008627|00030081|00008651|00043239|00043424|00036338|00031537|00043947|80002146|00002879', default_enter_rule],


#     #['admin', 'yxgl$666','192.168.200.227:554',1, 'hik', '一期码头船污水箱', '80002302|00038910|00030414|00031710|00030066|00030411|00008650|00030703|00038948|00043946'],
#     # ['admin', 'yxgl$666','192.168.200.228:554',1, 'hik', '383BC1洞内2', '80002302|00038910|00030414|00031710|00030066|00030411|00008650|00030703|00038948|00043946'],
#     # not-online
#     # ['admin', 'yxgl$666','192.168.200.229:554',1, 'hik', '一期泵船-富池', '80002302|00038910|00030414|00031710|00030066|00030411|00008650|00030703|00038948|00043946'],
#     # ## 所有帽子，没帽子，所有区域 上中
#     #['admin', 'yxgl$666','192.168.200.211:554',1, 'hik', '一期泵船-黄石', '80002302|00038910|00030350|00001137|00000849|00036276|00038086|00048406|00008627|00030081|00008651|00043239|00043424|00036338|00031537|00043947|80002146|00002879', default_enter_rule],
#     # 经常掉线
#     # ['admin', 'yxgl$666','192.168.200.231:554',1, 'hik', '收尘器灰仓', '80002302|00038910|00030414|00031710|00030066|00030411|00008650|00030703|00038948|00043946'], #50

# ]

# video_urls = [
#     "rtsp://admin:yxgl$666@192.168.200.182:554/Streaming/Channels/1",
#     "rtsp://admin:yxgl$666@192.168.200.183:554/Streaming/Channels/1",
#     "rtsp://admin:yxgl$666@192.168.200.190:554/Streaming/Channels/1",

#     "rtsp://admin:yxgl$666@192.168.200.204:554/Streaming/Channels/1",
#     "rtsp://admin:12345@192.168.200.76:554/Streaming/Channels/1",
#     "rtsp://admin:12345@192.168.200.91:554/Streaming/Channels/1",   
#     "rtsp://admin:12345@192.168.200.95:554/Streaming/Channels/1",
#     "rtsp://admin:12345@192.168.200.97:554/Streaming/Channels/1"
# ]

saved_config_filename = '#i13rtsp_list.csv'
# url_rect_dict = {}

rect = (0,0,0,0)
startPoint = False
endPoint = False

print('选择区域时，请保持左上 --> 右下 的方式绘制对角线 ')
print('设置好当前摄像头的检测区域后，按 escape 键，程序将保存设置，进入下一个摄像头设置！')

def on_mouse(event,x,y,flags,params):

    global rect,startPoint,endPoint

    # get mouse click
    if event == cv2.EVENT_LBUTTONDOWN:

        if startPoint == True and endPoint == True:
            startPoint = False
            endPoint = False
            rect = (0, 0, 0, 0)

        if startPoint == False:
            rect = (x, y, 0, 0)
            startPoint = True
        elif endPoint == False:
            rect = (rect[0], rect[1], x, y)
            endPoint = True

area_list = []
for rtsp_obj in video_urls:
    # 大华的情况 ：
    if rtsp_obj[4] == 'dahua':
        video_url = "rtsp://%s:%s@%s/cam/realmonitor?channel=%d&subtype=0" \
            % (rtsp_obj[0], rtsp_obj[1], rtsp_obj[2], rtsp_obj[3])
    # 网络摄像头是海康:
    elif rtsp_obj[4] == 'hik':
        video_url = "rtsp://%s:%s@%s/Streaming/Channels/%d" % (rtsp_obj[0], rtsp_obj[1], rtsp_obj[2], rtsp_obj[3])


    video_flag = True
    rect = (0, 0, 0, 0)
    addr = deal_specialchar_in_url(video_url)
    cap = cv2.VideoCapture(addr)
    #cap = cv2.VideoCapture("test2.dav")
    #cap = cv2.VideoCapture(0)
    cap.set(cv2.CAP_PROP_FOURCC, cv2.VideoWriter_fourcc(*"H264"))



    # cap.set(3, 1920)
    # cap.set(4, 1080)
    # cap.set(cv2.CAP_PROP_FPS,5)
    #cap = cv2.VideoCapture(0)
    waitTime = 50

    #Reading the first frame
    (grabbed, frame) = cap.read()
    if frame is None:
        print('\n### error ###', video_url)
    while(cap.isOpened() and video_flag): 

        (grabbed, frame) = cap.read()
        # print('frame', type(frame))

        new_frame = mx.nd.array(cv2.cvtColor(frame, cv2.COLOR_BGR2RGB)).astype('uint8')

        x, orig_img = data.transforms.presets.yolo.transform_test(new_frame,  short=512, max_size=2000)
        frameI = orig_img
        # print('frameI', type(frameI))
        cv2.namedWindow("frame", cv2.WINDOW_NORMAL)
        

        # cv2.namedWindow('frame')
        cv2.setMouseCallback('frame', on_mouse)    

        #drawing rectangle
        if startPoint == True and endPoint == True:
            cv2.rectangle(frameI, (rect[0], rect[1]), (rect[2], rect[3]), (255, 0, 255), 2)
            # cv2.rectangle(frame, (rect[0], rect[1]), (rect[2], rect[3]), (255, 0, 255), 2)
            print(' 正方形位置:', (rect[0], rect[1]), (rect[2], rect[3]))
        # cv2.imshow('frame',frame)
        cv2.imshow('frame', frameI[...,::-1])

        key = cv2.waitKey(waitTime) 
        # escape 键
        if key == 27:
            # break
            print('setting ', video_url, ' square:', (rect[0], rect[1]), (rect[2], rect[3]))
            results = [rect[0], rect[1], rect[2], rect[3]]
            print(type(results), 'results', results, results[0])
            # 如果点击者先右后左的话 保证左侧的点在前，右侧的点在后
            if results[0] > results[2]:                
                print('左右位置互换')
                results =  [results[2], results[3], results[0], results[1]]
                print(results)
            # 如果由下向上的话, 保存成另外2个对角点，方便后续与目标方框比较包含关系
            if results[1] > results[3]:
                print('对角线互换')
                results = [results[0], results[3], results[2], results[1]]
                print(results)

            # url_rect_dict[rtsp_obj] = results
            area_list.append(results)
            video_flag = False

cap.release()
cv2.destroyAllWindows()

rtsp_list  = []
i = 80
for rtsp_obj, area in zip(video_urls, area_list):
    rtsp_list.append([i, rtsp_obj[0], rtsp_obj[1], rtsp_obj[2],
                      rtsp_obj[3], rtsp_obj[4],  rtsp_obj[5],  rtsp_obj[6], area, rtsp_obj[7] ])

# print(data, '#'*20)
    i += 1

with open(saved_config_filename, "w", newline="") as f:
    writer = csv.writer(f)
    writer.writerows(rtsp_list)

# # This saves your dict
# with open(saved_config_filename, 'w') as f:
#     # passing an indent parameter makes the json pretty-printed
#     json.dump(url_rect_dict, f, indent=2) 


# url_rect_dict = {}
# # This loads your dict
# with open(saved_config_filename, 'r') as f:
#     url_rect_dict = json.load(f)
print('完成设置不同摄像头检测区域：')
print(rtsp_list) 
